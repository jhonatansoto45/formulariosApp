<h2>Validaciones Reactivas</h2>
<hr />

<div class="row">
  <div class="col">
    <form
      (ngSubmit)="submitFormulario()"
      autocomplete="off"
      [formGroup]="miFormulario"
    >
      <!-- NOMBRE -->
      <div class="row mb-3">
        <label class="col-sm-3 col.form-label"> Nombre </label>
        <div class="col-sm-9">
          <input
            type="text"
            class="form-control"
            placeholder="Nombre del usuario"
            formControlName="nombre"
          />

          <span *ngIf="campoNoValido('nombre')" class="form-text text-danger">
            Debe de ser en formato de nombre y apellido
          </span>
        </div>
      </div>

      <!-- EMAIL -->
      <div class="row mb-3">
        <label class="col-sm-3 col.form-label"> Email </label>
        <div class="col-sm-9">
          <input
            type="email"
            class="form-control"
            formControlName="email"
            placeholder="Email del usuario"
          />
          <span *ngIf="campoNoValido('email')" class="form-text text-danger">
            {{ emailErrorMsg }}
          </span>
          <!-- <span *ngIf="emailRequired()" class="form-text text-danger">
            El correo es obligatorio
          </span>

          <span *ngIf="emailPattern()" class="form-text text-danger">
            El valor no tiene formato de correo
          </span>

          <span *ngIf="emailExiste()" class="form-text text-danger">
            El correo electronico ya existe
          </span> -->
        </div>
      </div>

      <!-- USERNAME -->
      <div class="row mb-3">
        <label class="col-sm-3 col.form-label"> Username </label>
        <div class="col-sm-9">
          <input
            type="text"
            class="form-control"
            placeholder="Nombre codigo del usuario"
            formControlName="username"
          />
          <span *ngIf="campoNoValido('username')" class="form-text text-danger">
            El username no puede ser strider
          </span>
        </div>
      </div>

      <!-- PASSWORD -->
      <div class="row mb-3">
        <label class="col-sm-3 col.form-label"> Contraseña </label>
        <div class="col-sm-9">
          <input
            type="password"
            class="form-control"
            placeholder="Contraseña de su cuenta"
            formControlName="password"
          />
          <span *ngIf="campoNoValido('password')" class="form-text text-danger">
            El contraseña debe ser mayor de 6 caracteres
          </span>
        </div>
      </div>

      <!-- PASSWORD 2 -->
      <div class="row mb-3">
        <label class="col-sm-3 col.form-label"> Confirma la contraseña </label>
        <div class="col-sm-9">
          <input
            type="password"
            class="form-control"
            placeholder="Confirmar la contraseña"
            formControlName="password2"
          />
          <span
            *ngIf="campoNoValido('password2')"
            class="form-text text-danger"
          >
            Las contrseñas debe ser iguales
          </span>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <button
            [disabled]="miFormulario.pending"
            type="submit"
            class="btn btn-primary float-end"
          >
            Crear
          </button>
        </div>
      </div>
    </form>
  </div>
</div>

<h2>Form Valid: {{ miFormulario.valid }}</h2>
<h2>Form Status: {{ miFormulario.status }}</h2>
<h2>Form Pending: {{ miFormulario.pending }}</h2>
<h2>Form Errors:</h2>
<pre>{{ miFormulario.errors | json }}</pre>

<h2>Nombre:</h2>
<pre>
  {{ miFormulario.controls["nombre"]?.errors | json }}
</pre>

<h2>Email:</h2>
<pre>
  {{ miFormulario.controls["email"]?.errors | json }}
</pre>

<h2>Username:</h2>
<pre>
  {{ miFormulario.controls["usermame"]?.errors | json }}
</pre>

<h2>Password:</h2>
<pre>
  {{ miFormulario.controls["password"]?.errors | json }}
</pre>

<h2>Confirmar:</h2>
<pre>
  {{ miFormulario.controls["password2"]?.errors | json }}
</pre>
